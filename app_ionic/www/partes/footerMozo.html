<!-- Menu botton -->
<div class="container-fluid menu-botton-selec" id="footer">
    <div class="col-12">
        <div class="row">

            <div class="columna-medio-16  botonFooterAdmin" id="prepare" onclick="scanQRMesa()">
                <img src="media/Img/qr-reader.png" />
                <h6>QR Mesa</h6>
            </div>

        </div>
    </div>
</div>

<!-- end Menu botton -->

<script>

    // Para verificar disponibilidad de una mesa.
    // Para relacionar al cliente con una mesa.
    // Para ver el estado del pedido.
    // Para acceder a la encuesta de satisfacción.


    function scanQRMesa() {

        try {
            cordova.plugins.barcodeScanner.scan(QRok, QRmal, {
                /*preferFrontCamera : false, // iOS and Android
                showFlipCameraButton : true, // iOS and Android
                showTorchButton : false, // iOS and Android, linterna
                torchOn: false,*/ // Android, launch with the torch switched on (if available)
                prompt: "escaneá el qr de la mesa", // Android
                resultDisplayDuration: 1500,
                orientation: "portrait"

                /*, // Android, display scanned text for X ms. 0 suppresses it entirely, default 1500
                        formats : "QR_CODE,PDF_417", // default: all but PDF_417 and RSS_EXPANDED
                        orientation : "landscape",*/ // Android only (portrait|landscape), default unset so it rotates with the device
                /* disableAnimations : true, // iOS
                    disableSuccessBeep: false // iOS*/
            });
        } catch (e) {
            alert(e);

            //actualizarDatos();

        }
    }

    function QRok(data) {

        var myJSON = JSON.stringify(data);
        var obj = JSON.parse(myJSON);
        var texto = obj.text;

        alert(texto);

        verMesaMozo(texto.id);
        
    }


    function QRmal(error) {
        alert("Error: " + error)
    }


</script>